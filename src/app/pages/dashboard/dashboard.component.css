/* =========================
   Colorful Glass Dashboard
   ========================= */

:host{
  --dash-ink: rgba(0,0,0,.82);
  --dash-ink-strong: rgba(0,0,0,.9);
  --dash-muted: rgba(0,0,0,.55);
  --dash-muted-2: rgba(0,0,0,.65);
  --dash-surface: rgba(255,255,255,.78);
  --dash-surface-2: rgba(255,255,255,.68);
  --dash-surface-3: rgba(255,255,255,.52);
  --dash-border: rgba(0,0,0,.06);
  --dash-border-strong: rgba(0,0,0,.10);
  --dash-soft: rgba(17,24,39,.06);
  --dash-soft-2: rgba(17,24,39,.08);
  --dash-input: rgba(255,255,255,.72);
  --dash-hero-bg:
    radial-gradient(700px 260px at 10% 10%, rgba(99,102,241,.25), transparent 60%),
    radial-gradient(700px 260px at 85% 0%, rgba(34,197,94,.18), transparent 55%),
    radial-gradient(700px 300px at 90% 80%, rgba(236,72,153,.14), transparent 60%),
    rgba(255,255,255,.78);
  --dash-shadow: 0 18px 55px rgba(0,0,0,.10);
  --dash-shadow-soft: 0 12px 26px rgba(15,23,42,.08);
  --dash-accent-1: #14b8a6;
  --dash-accent-2: #3b82f6;
}

:host-context([data-bs-theme="dark"]){
  --dash-ink: rgba(226,232,240,.95);
  --dash-ink-strong: rgba(248,250,252,.98);
  --dash-muted: rgba(148,163,184,.85);
  --dash-muted-2: rgba(148,163,184,.9);
  --dash-surface: rgba(15,23,42,.82);
  --dash-surface-2: rgba(17,24,39,.76);
  --dash-surface-3: rgba(30,41,59,.62);
  --dash-border: rgba(148,163,184,.18);
  --dash-border-strong: rgba(148,163,184,.24);
  --dash-soft: rgba(148,163,184,.14);
  --dash-soft-2: rgba(148,163,184,.18);
  --dash-input: rgba(15,23,42,.72);
  --dash-hero-bg:
    radial-gradient(700px 260px at 10% 10%, rgba(99,102,241,.18), transparent 60%),
    radial-gradient(700px 260px at 85% 0%, rgba(34,197,94,.12), transparent 55%),
    radial-gradient(700px 300px at 90% 80%, rgba(236,72,153,.10), transparent 60%),
    rgba(15,23,42,.88);
  --dash-shadow: 0 18px 55px rgba(0,0,0,.45);
  --dash-shadow-soft: 0 12px 26px rgba(0,0,0,.45);
  --dash-accent-1: #14b8a6;
  --dash-accent-2: #3b82f6;
}

.dashX{
  max-width: 1400px;
  margin: 0 auto;
  padding: 16px;
}

.glassX{
  background: var(--dash-surface-2);
  border: 1px solid var(--dash-border);
  box-shadow: var(--dash-shadow);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-radius: 22px;
}

/* Global typographic protection */
.dashX, .dashX *{
  word-break: normal;
  overflow-wrap: break-word;
}
.nowrap{ white-space: nowrap; }
.mobile-only{ display: none; }
.desktop-only{ display: block; }

.successText{ color: #16a34a; }
.dangerText{ color: #dc2626; }

/* =========================
   HERO
   ========================= */

.heroX{
  position: relative;
  overflow: hidden;
  padding: 14px 16px;
  display:flex;
  flex-direction: column;
  gap: 8px;
  background: var(--dash-hero-bg);
  border-radius: 18px;
}
.heroGrid{
  display:grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  align-items:center;
}
.heroLeft{
  min-width: 280px;
  flex: 1 1 480px;
  position: relative;
  z-index: 1;
}
.heroControls{
  display:flex;
  align-items:flex-start;
  justify-content:flex-end;
  position: relative;
  z-index: 1;
}
.controlCard{
  background: var(--dash-surface);
  border: 1px solid var(--dash-border);
  border-radius: 14px;
  padding: 10px;
  box-shadow: var(--dash-shadow-soft);
  min-width: 260px;
}
.controlCardHead{
  display:flex;
  justify-content: space-between;
  align-items:center;
  margin-bottom: 8px;
}
.controlTitle{
  font-weight: 900;
  color: var(--dash-muted-2);
  font-size: 13px;
}
.controlRow{
  display:flex;
  align-items:flex-end;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.chipX{
  display:inline-flex;
  align-items:center;
  gap: 10px;
  padding: 8px 12px;
  border-radius: 999px;
  background: var(--dash-soft-2);
  border: 1px solid var(--dash-border);
  font-weight: 900;
  font-size: 12px;
  letter-spacing: .12em;
  color: var(--dash-muted);
}

.dotX{
  width: 10px; height: 10px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(99,102,241,1), rgba(34,197,94,1));
  box-shadow: 0 0 0 6px rgba(99,102,241,.18);
}

.heroTitle{
  margin: 10px 0 4px 0;
  font-weight: 1000;
  font-size: clamp(22px, 3.2vw, 40px);
  letter-spacing: -.02em;
}

.gradText{
  background: linear-gradient(135deg, #6366f1, #22c55e, #ec4899);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.heroMeta{
  margin-top: 8px;
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

.metaItem{
  padding: 8px 10px;
  border-radius: 12px;
  background: var(--dash-surface-3);
  border: 1px solid var(--dash-border);
}
.metaLabel{
  display:block;
  font-size: 12px;
  font-weight: 800;
  color: var(--dash-muted);
}
.metaValue{
  display:block;
  margin-top: 2px;
  font-weight: 900;
  color: var(--dash-ink);
}

/* Segmented */
.segX{
  display:flex;
  gap: 6px;
  padding: 6px;
  border-radius: 999px;
  background: var(--dash-surface-3);
  border: 1px solid var(--dash-border);
  align-items: center;
  min-height: 46px;
}
.segX.compact{
  gap: 6px;
}
.segBtn{
  border: none;
  cursor: pointer;
  padding: 8px 10px;
  border-radius: 999px;
  background: transparent;
  font-weight: 900;
  color: var(--dash-muted-2);
  line-height: 1;
  min-height: 34px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.segBtn.active{
  background: rgba(17,24,39,.92);
  color: #fff;
  box-shadow: 0 10px 28px rgba(0,0,0,.18);
}

.monthX{ display:flex; flex-direction: column; gap: 6px; }
.monthX{ align-self: flex-end; }
.monthLabel{
  font-size: 12px;
  font-weight: 900;
  color: var(--dash-muted);
  padding-left: 4px;
}
.monthField{
  position: relative;
  display:flex;
  align-items:center;
  min-width: 240px;
}
.monthField input{
  height: 40px;
  width: 200px;
  min-width: 180px;
  padding: 0 38px 0 10px;
  border-radius: 12px;
  border: 1px solid var(--dash-border-strong);
  background: var(--dash-input);
  font-weight: 900;
  cursor: pointer;
  position: relative;
  z-index: 2;
  line-height: 1.2;
}
.monthIcon{
  position:absolute;
  right: 12px;
  opacity: .7;
  pointer-events: none;
  z-index: 1;
}

/* Glows */
.glow{
  position:absolute;
  filter: blur(24px);
  opacity: .65;
  border-radius: 999px;
  pointer-events: none;
  z-index: 0;
}
.g1{ width: 200px; height: 200px; left: -40px; top: -60px; background: rgba(99,102,241,.35); }
.g2{ width: 240px; height: 240px; right: -60px; top: -90px; background: rgba(34,197,94,.28); }
.g3{ width: 220px; height: 220px; right: 10%; bottom: -110px; background: rgba(236,72,153,.22); }

/* =========================
   KPI GRID
   ========================= */
.kpiGridX{
  margin-top: 14px;
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px;
}

.kpiX{
  padding: 14px;
  position: relative;
  overflow: hidden;
}

.kpiTop{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
}
.kpiName{
  font-weight: 1000;
  color: var(--dash-muted-2);
  letter-spacing: .02em;
}
.kpiVal{
  margin-top: 8px;
  font-size: clamp(18px, 2.8vw, 30px);
  font-weight: 1000;
  white-space: nowrap;
}
.kpiSub{
  margin-top: 6px;
  font-size: 12px;
  color: var(--dash-muted);
  font-weight: 800;
}

.badgeX{
  font-size: 11px;
  font-weight: 1000;
  letter-spacing: .14em;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid var(--dash-border);
  background: var(--dash-surface-3);
}
.badgeX.success{ background: rgba(34,197,94,.16); }
.badgeX.danger{ background: rgba(220,38,38,.14); }
.badgeX.neutral{ background: rgba(99,102,241,.14); }
.badgeX.warn{ background: rgba(245,158,11,.18); }
.badgeX.glow{ background: rgba(236,72,153,.14); }

.kpiBar{
  margin-top: 12px;
  height: 10px;
  border-radius: 999px;
  background: var(--dash-soft-2);
  overflow: hidden;
}
.kpiFill{
  height: 100%;
  border-radius: 999px;
  width: 12%;
}
.incomeFill{
  background: linear-gradient(90deg, rgba(34,197,94,1), rgba(16,185,129,.55));
}
.expenseFill{
  background: linear-gradient(90deg, rgba(239,68,68,1), rgba(245,158,11,.45));
}
.netFill{
  background: linear-gradient(90deg, rgba(99,102,241,1), rgba(236,72,153,.55));
}

.pulseDot{
  width: 10px; height: 10px;
  border-radius: 999px;
  display:inline-block;
  margin-right: 8px;
  background: rgba(34,197,94,1);
  box-shadow: 0 0 0 0 rgba(34,197,94,.40);
  animation: pulse 1.4s infinite;
}
@keyframes pulse{
  0%{ box-shadow: 0 0 0 0 rgba(34,197,94,.42); }
  70%{ box-shadow: 0 0 0 16px rgba(34,197,94,0); }
  100%{ box-shadow: 0 0 0 0 rgba(34,197,94,0); }
}

.miniPills{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 10px;
}
.pill{
  padding: 6px 10px;
  border-radius: 999px;
  background: var(--dash-surface-3);
  border: 1px solid var(--dash-border);
  font-weight: 900;
  font-size: 12px;
  color: var(--dash-muted-2);
}

/* =========================
   MAIN GRID
   ========================= */
.mainGridX{
  margin-top: 14px;
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 12px;
  align-items: stretch;
  grid-auto-flow: dense;
}
.span2{ grid-column: span 2; }

.cardX{
  padding: 14px;
  overflow: hidden;
  display:flex;
  flex-direction: column;
  height: 100%;
}

.cardHead{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 12px;
}
.cardTitle{
  font-weight: 1000;
  font-size: 16px;
  color: var(--dash-ink);
}
.cardSub{
  margin-top: 4px;
  font-weight: 800;
  font-size: 12px;
  color: var(--dash-muted);
}

.ctaBtn{
  display:inline-flex;
  align-items:center;
  gap: 10px;
  text-decoration:none;
  padding: 10px 12px;
  border-radius: 14px;
  font-weight: 1000;
  color: #fff;
  background: linear-gradient(135deg, rgba(99,102,241,1), rgba(236,72,153,1));
  box-shadow: 0 14px 34px rgba(99,102,241,.25);
  white-space: nowrap;
}
.ctaIcon{ opacity: .95; }

.quickStats{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
}
.qs{
  padding: 10px;
  border-radius: 16px;
  background: var(--dash-surface-3);
  border: 1px solid var(--dash-border);
  min-width: 0;
}
.qsLabel{
  font-size: 12px;
  font-weight: 900;
  color: var(--dash-muted);
}
.qsVal{
  margin-top: 6px;
  font-size: 16px;
  font-weight: 1000;
  white-space: nowrap;
}

.dividerX{
  height: 1px;
  background: var(--dash-border-strong);
  margin: 12px 0;
}

.infoStrip{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px;
  border-radius: 16px;
  background: linear-gradient(135deg, rgba(20,184,166,0.14), rgba(59,130,246,0.14));
  border: 1px solid var(--dash-border);
}
.infoStrip.filled-tip{
  align-items: flex-start;
  padding: 12px;
}
.infoStrip.compact{
  min-height: auto;
}
.tipCard{
  min-height: 74px;
}
.infoIcon{
  width: 36px; height: 36px;
  display:flex; align-items:center; justify-content:center;
  border-radius: 14px;
  background: linear-gradient(135deg, rgba(20,184,166,0.35), rgba(59,130,246,0.35));
  color: var(--dash-ink-strong);
  flex: 0 0 36px;
}
.infoTitle{ font-weight: 1000; }
.infoSub{ font-size: 12px; font-weight: 800; color: var(--dash-muted); margin-top: 2px; }
.infoMeta{
  display:flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 8px;
}
.infoStat{
  background: rgba(15,23,42,0.12);
  border: 1px solid var(--dash-border);
  border-radius: 12px;
  padding: 10px 12px;
  min-width: 220px;
}
.infoLabel{
  display:block;
  font-size: 11px;
  font-weight: 800;
  color: var(--dash-muted-2);
  letter-spacing: .02em;
}
.infoValue{
  display:block;
  font-weight: 1000;
  margin-top: 4px;
  color: var(--dash-ink-strong);
}
.infoStripGrid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 10px;
}
.infoStripGrid .infoStrip{
  height: 100%;
}
.infoIcon{
  width: 36px; height: 36px;
  display:flex; align-items:center; justify-content:center;
  border-radius: 14px;
  background: linear-gradient(135deg, rgba(20,184,166,0.35), rgba(59,130,246,0.35));
  color: var(--dash-ink-strong);
}
.savingsCallout{
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(16,185,129,0.12), rgba(59,130,246,0.08));
  border: 1px solid var(--dash-border);
  box-shadow: 0 10px 24px rgba(15,23,42,0.06);
}
.savingsTitle{
  font-weight: 900;
  color: var(--dash-ink-strong);
}
.savingsSub{
  margin-top: 4px;
  color: var(--dash-muted);
  font-weight: 700;
}

/* lists */
.listX{ display:flex; flex-direction: column; gap: 10px; }

.rowX{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 10px;
  padding: 12px;
  border-radius: 18px;
  background: var(--dash-surface-3);
  border: 1px solid var(--dash-border);
}
.rowLeft{ min-width: 0; }
.rowTitle{
  font-weight: 1000;
  color: var(--dash-ink);
}
.rowSub{
  margin-top: 3px;
  font-size: 12px;
  font-weight: 800;
  color: var(--dash-muted);
}
.rowRight{
  font-weight: 1000;
  white-space: nowrap;
}

.alertX{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 12px;
  border-radius: 18px;
  background: var(--dash-surface-3);
  border: 1px solid var(--dash-border);
}
.alertIcon{
  width: 36px; height: 36px;
  border-radius: 14px;
  display:flex; align-items:center; justify-content:center;
  background: rgba(245,158,11,.18);
}
.alertIcon svg{
  width: 18px;
  height: 18px;
}
.alertTitle{ font-weight: 1000; }
.alertSub{ font-size: 12px; font-weight: 800; color: var(--dash-muted); margin-top: 2px; }

/* Empty states */
.emptyX{
  display:flex;
  gap: 12px;
  align-items:center;
  padding: 14px;
  border-radius: 18px;
  background: var(--dash-soft);
  border: 1px dashed var(--dash-border-strong);
}
.emptyX.compact{ padding: 12px; }
.emptyIcon{
  width: 44px; height: 44px;
  border-radius: 18px;
  display:flex; align-items:center; justify-content:center;
  background: rgba(99,102,241,.14);
}
.emptyTitle{ font-weight: 1000; }
.emptySub{ margin-top: 3px; font-size: 12px; font-weight: 800; color: var(--dash-muted); }

/* =========================
   RESPONSIVE
   ========================= */
@media (max-width: 1100px){
  .kpiGridX{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .mainGridX{ grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
  .span2{ grid-column: span 1; }
}

@media (max-width: 560px){
  .dashX{ padding: 12px; }
  .heroX{
    padding: 14px;
    align-items: flex-start;
    flex-direction: column;
  }
  .heroGrid{
    grid-template-columns: 1fr;
  }
  .heroLeft{
    min-width: 0;
  }
  .heroControls{
    width: 100%;
    justify-content: flex-start;
  }
  .controlCard{
    width: 100%;
    min-width: 0;
  }
  .monthField{
    width: 100%;
  }
  .monthField input{ width: 100%; }
  .heroRight{
    width: 100%;
    align-items: flex-start;
  }
  .controlRow{
    width: 100%;
    justify-content: space-between;
  }
  .segX{ width: 100%; justify-content: space-between; }
  .infoStat{
    min-width: 0;
    width: 100%;
  }
  .quickStats{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .desktop-only{ display: none; }
  .mobile-only{ display: block; }
}
